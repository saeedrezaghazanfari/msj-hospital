# Generated by Django 4.1.3 on 2022-12-14 08:44

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone
import extentions.utils


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('hospital_setting', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('hospital_doctor', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='AppointmentTimeModel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(default=django.utils.timezone.now, verbose_name='تاریخ روز')),
                ('day', models.CharField(choices=[('saturday', 'شنبه'), ('sunday', 'یک شنبه'), ('monday', 'دو شنبه'), ('tuesday', 'سه شنبه'), ('wednesday', 'چهار شنبه'), ('thursday', 'پنج شنبه'), ('friday', 'جمعه')], max_length=15, verbose_name='روز')),
                ('time', models.CharField(choices=[('6-7', '6-7'), ('7-8', '7-8'), ('8-9', '8-9'), ('9-10', '9-10'), ('10-11', '10-11'), ('11-12', '11-12'), ('12-13', '12-13'), ('13-14', '13-14'), ('14-15', '14-15'), ('15-16', '15-16'), ('16-17', '16-17'), ('17-18', '17-18'), ('18-19', '18-19'), ('19-20', '19-20'), ('20-21', '20-21'), ('21-22', '21-22'), ('22-23', '22-23'), ('23-24', '23-24')], max_length=15, verbose_name='بازه ی زمانی')),
                ('capacity', models.PositiveIntegerField(verbose_name='ظرفیت کل')),
                ('reserved', models.PositiveIntegerField(verbose_name='تعداد رزرو شده')),
                ('doctor', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='hospital_doctor.doctormodel', verbose_name='پزشک')),
                ('price', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='hospital_setting.priceappointmentmodel', verbose_name='تعرفه')),
            ],
            options={
                'verbose_name': 'زمان نوبتدهی',
                'verbose_name_plural': 'زمان های نوبتدهی',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='LimitTurnTimeModel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('to_hour', models.PositiveIntegerField(verbose_name='تا ساعت چند؟')),
                ('how_days_hour', models.PositiveIntegerField(verbose_name='چند روز قبل؟ (به ساعت)')),
            ],
            options={
                'verbose_name': 'حد زمانی برای انتخاب نوبت',
                'verbose_name_plural': 'حد زمانی برای انتخاب نوبت',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='UnitModel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('category', models.CharField(choices=[('technical', 'فنی'), ('hopitalization', 'بستری'), ('clinic', 'کلینیک'), ('paraclinic', 'پاراکلینیک'), ('ipd', 'IPD'), ('official', 'اداری'), ('ctscan', 'تصویربرداری-سی تی اسکن'), ('radiography_simple', 'تصویربرداری-رادیوگرافی ساده'), ('radiography_special', 'تصویربرداری-رادیوگرافی تخصصی'), ('mamography', 'تصویربرداری-ماموگرافی'), ('sonography', 'تصویربرداری-سونوگرافی')], max_length=255, verbose_name='دسته بندی')),
                ('have_appointment', models.BooleanField(default=False, verbose_name='امکان نوبت دهی آنلاین دارد؟')),
                ('title', models.CharField(max_length=255, verbose_name='نام')),
                ('desc', models.TextField(verbose_name='متن')),
                ('image', models.ImageField(blank=True, null=True, upload_to=extentions.utils.units_image_path, verbose_name='تصویر')),
                ('phone', models.CharField(blank=True, max_length=40, null=True, verbose_name='تلفن')),
                ('inside', models.PositiveIntegerField(blank=True, null=True, verbose_name='داخلی')),
                ('address', models.CharField(max_length=255, verbose_name='آدرس')),
                ('manager', models.CharField(blank=True, max_length=100, null=True, verbose_name='مسیول')),
                ('manager_phone', models.CharField(blank=True, max_length=40, null=True, verbose_name='شماره مسیول')),
                ('email', models.EmailField(blank=True, max_length=254, null=True, verbose_name='ایمیل')),
            ],
            options={
                'verbose_name': 'بخش',
                'verbose_name_plural': 'بخش ها',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='PatientTurnModel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(default=extentions.utils.code_patient_turn, max_length=15, verbose_name='کد پیگیری')),
                ('first_name', models.CharField(max_length=50, verbose_name='نام بیمار')),
                ('last_name', models.CharField(max_length=50, verbose_name='نام خانوادگی بیمار')),
                ('national_code', models.CharField(max_length=10, unique=True, verbose_name='کدملی بیمار')),
                ('phone', models.CharField(default=0, max_length=20, verbose_name='شماره تلفن بیمار')),
                ('age', models.PositiveIntegerField(verbose_name='سن بیمار')),
                ('gender', models.CharField(choices=[('male', 'مرد'), ('female', 'زن')], max_length=7, verbose_name='جنسیت بیمار')),
                ('price', models.PositiveBigIntegerField(verbose_name='مبلغ قابل پرداخت')),
                ('prescription_code', models.CharField(blank=True, max_length=30, null=True, verbose_name='کد نسخه ی پزشک دیگر')),
                ('turn', models.PositiveIntegerField(blank=True, null=True, verbose_name='نوبت فیزیکی بیمار')),
                ('is_paid', models.BooleanField(default=False, verbose_name='پرداخت شده؟')),
                ('is_canceled', models.BooleanField(default=False, verbose_name='آیا از مبلغ کنسل شدن به بیمار واریز شده است؟')),
                ('created', models.DateTimeField(auto_now_add=True)),
                ('appointment', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='hospital_units.appointmenttimemodel', verbose_name='زمان مشاوره')),
                ('insurance', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='hospital_setting.insurancemodel', verbose_name='بیمه')),
            ],
            options={
                'verbose_name': 'نوبت بیمار',
                'verbose_name_plural': 'نوبت بیماران',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='OnlinePaymentModel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('price', models.PositiveBigIntegerField(verbose_name='مبلغ پرداختی')),
                ('is_success', models.BooleanField(default=False, verbose_name='آیا تراکنش موفقیت آمیز بوده است؟')),
                ('code', models.CharField(max_length=50, verbose_name='شماره پرداخت')),
                ('created', models.DateTimeField(auto_now_add=True)),
                ('payer', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='hospital_units.patientturnmodel', verbose_name='پرداخت کننده')),
            ],
            options={
                'verbose_name': 'پرداخت اینترنتی',
                'verbose_name_plural': 'پرداخت های اینترنتی',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='ExprimentResultModel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(choices=[('experiment', 'آزمایش'), ('ctscan', 'تصویربرداری-سی تی اسکن'), ('radiography_simple', 'تصویربرداری-رادیوگرافی ساده'), ('radiography_special', 'تصویربرداری-رادیوگرافی تخصصی'), ('mamography', 'تصویربرداری-ماموگرافی'), ('sonography', 'تصویربرداری-سونوگرافی')], max_length=20, verbose_name='نوع نتیجه')),
                ('code', models.CharField(default=extentions.utils.get_experiment_code, max_length=20, unique=True, verbose_name='کد پیگیری')),
                ('is_show_send_sms', models.BooleanField(default=False, verbose_name='بعد از ذخیره کردن آیا نمایش داده شود و پیامک به کاربر ارسال شود؟')),
                ('title', models.CharField(max_length=255, verbose_name='عنوان آزمایش')),
                ('result', models.CharField(max_length=255, verbose_name='جواب آزمایش')),
                ('image', models.ImageField(upload_to=extentions.utils.experiment_result_image_path, verbose_name='تصویر آزمایش')),
                ('date', models.DateTimeField(default=django.utils.timezone.now, verbose_name='زمان ثبت نتیجه')),
                ('unit', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='hospital_units.unitmodel', verbose_name='بخش')),
                ('user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='بیمار')),
            ],
            options={
                'verbose_name': 'نتیجه آزمایش و تصویربرداری',
                'verbose_name_plural': 'نتیجه آزمایش ها و تصویربرداری ها',
                'ordering': ['-id'],
            },
        ),
        migrations.AddField(
            model_name='appointmenttimemodel',
            name='unit',
            field=models.ForeignKey(blank=True, help_text='اگر مقداری به این قسمت داده نشود در اینصورت بخش پزشکان انتخاب میشود.', null=True, on_delete=django.db.models.deletion.SET_NULL, to='hospital_units.unitmodel', verbose_name='بخش'),
        ),
    ]
